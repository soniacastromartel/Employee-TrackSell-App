{"ast":null,"code":"var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport { DEFAULT_TIME_1S, WAIT_TO_SLIDE, SLIDES_PROMOTIONS_TIME } from './../../app.constants';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"./../../services/utils.service\";\nimport * as i3 from \"./../../services/page.service\";\nimport * as i4 from \"@angular/common\";\nconst _c0 = [\"slidesViewer\"];\nfunction ImgViewerComponent_ion_slide_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-slide\")(1, \"ion-row\");\n    i0.ɵɵelement(2, \"ion-img\", 4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", p_r2);\n  }\n}\nexport let ImgViewerComponent = /*#__PURE__*/(() => {\n  class ImgViewerComponent {\n    constructor(params, utils, pageSvc) {\n      this.params = params;\n      this.utils = utils;\n      this.pageSvc = pageSvc;\n      this.imgs = [];\n      this.slidesPos = 0;\n      this.slidesOpts = this.utils.slideOpts;\n    }\n    ngOnInit() {\n      let receiver = this.params.get('data');\n      this.imgs = receiver.data.data;\n      this.slidesPos = receiver.data.pos;\n    }\n    slidePlay() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.slidesViewer.mode = 'ios';\n        this.slidesViewer.pager = true;\n        this.slidesViewer.slideTo(this.slidesPos, SLIDES_PROMOTIONS_TIME);\n        this.slidesViewer.startAutoplay();\n      });\n    }\n    refreshViewer() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.slidesViewer.isEnd().then(isEnd => {\n          if (isEnd) {\n            setTimeout(() => {\n              this.slidesViewer.slideTo(0, DEFAULT_TIME_1S);\n            }, WAIT_TO_SLIDE);\n          } else {\n            this.slidesViewer.startAutoplay();\n          }\n        });\n      });\n    }\n    closeViewer() {\n      this.pageSvc.closeModal();\n    }\n  }\n  ImgViewerComponent.ɵfac = function ImgViewerComponent_Factory(t) {\n    return new (t || ImgViewerComponent)(i0.ɵɵdirectiveInject(i1.NavParams), i0.ɵɵdirectiveInject(i2.UtilsService), i0.ɵɵdirectiveInject(i3.PageService));\n  };\n  ImgViewerComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ImgViewerComponent,\n    selectors: [[\"app-img-viewer\"]],\n    viewQuery: function ImgViewerComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.slidesViewer = _t.first);\n      }\n    },\n    decls: 4,\n    vars: 1,\n    consts: [[\"fullscreen\", \"\"], [3, \"ionSlidesDidLoad\", \"ionSlideDidChange\", \"ionSlideTap\"], [\"slidesViewer\", \"\"], [4, \"ngFor\", \"ngForOf\"], [3, \"src\"]],\n    template: function ImgViewerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-content\", 0)(1, \"ion-slides\", 1, 2);\n        i0.ɵɵlistener(\"ionSlidesDidLoad\", function ImgViewerComponent_Template_ion_slides_ionSlidesDidLoad_1_listener() {\n          return ctx.slidePlay();\n        })(\"ionSlideDidChange\", function ImgViewerComponent_Template_ion_slides_ionSlideDidChange_1_listener() {\n          return ctx.refreshViewer();\n        })(\"ionSlideTap\", function ImgViewerComponent_Template_ion_slides_ionSlideTap_1_listener() {\n          return ctx.closeViewer();\n        });\n        i0.ɵɵtemplate(3, ImgViewerComponent_ion_slide_3_Template, 3, 1, \"ion-slide\", 3);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.imgs);\n      }\n    },\n    dependencies: [i4.NgForOf, i1.IonContent, i1.IonImg, i1.IonRow, i1.IonSlide, i1.IonSlides],\n    styles: [\"ion-img[_ngcontent-%COMP%]{object-fit:fill}ion-slide[_ngcontent-%COMP%]{height:100%!important}\"]\n  });\n  return ImgViewerComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}